import time
import _thread
from time import sleep_us, sleep
from enes100 import enes100
from machine import Pin, time_pulse_us, ADC, PWM

enes100.begin("Blaze Busters","FIRE",67,1120)

# ==== GLOBAL POSITION VARIABLES (auto-updated thread) ====
x = 0
y = 0
theta = 0

def update_position():
    global x, y, theta
    while True:
        time.sleep(1)   # update every second
        x = enes100.x()
        y = enes100.y()
        theta = enes100.theta()

# start background pose updater
_thread.start_new_thread(update_position, ())




while True:
    print("x: " + x)
    print("y: " + y)
    print("Theta: " + theta)
    time.sleep(2)
    

